server {
   listen 8080;

   client_max_body_size 5m;  # 최대 요청 크기 제한 5MB

   location /summary {
       # 프록시 요청 우회 처리
       proxy_pass http://172.16.204.111:8000;
       proxy_set_header Host $host;
       proxy_set_header X-Real-IP $remote_addr;
       proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
       proxy_set_header X-Forwarded-Proto $scheme;


       # 1번 서버 (AI 서버)와의 연결 타임아웃
       proxy_connect_timeout 300s;  # 5분

       # 1번 서버 (AI 서버)로의 데이터 전송 타임아웃
       proxy_send_timeout 300s;     # 5분

       # 1번 서버 (AI 서버)로부터 응답을 기다리는 시간
       proxy_read_timeout 300s;     # 5분

       # 캐시 방지 및 헤더 설정
       add_header Cache-Control "no-cache, no-store, must-revalidate";
       add_header X-NginX-Proxy true;
       add_header X-Frame-Options "ALLOWALL";
       add_header Access-Control-Allow-Origin *;
       add_header Access-Control-Allow-Methods "GET, POST, OPTIONS";
       add_header Access-Control-Allow-Headers "Authorization, Content-Type";
   }
}